<html>
  <head>
    <title>
      220a Lecture 2
    </title>
  </head>
  <body>
    sources and processors
    <script>
      const start = () => {
        // create web audio api context
        const context = new AudioContext();
	
	// create 220 osciallator
	const osc_220 = new OscillatorNode(context);
	osc_220.frequency.value = 220;
	//osc_220.connect(context.destination);
	// create 440 osciallator
	const osc_440 = new OscillatorNode(context);
	osc_440.frequency.value = 440;
	//osc_440.connect(context.destination);
	// create 660 osciallator
	const osc_660 = new OscillatorNode(context);
	osc_660.frequency.value = 660;
	//osc_660.connect(context.destination);

	// gain on 220 Hz
	amp_220 = new GainNode(context);
        osc_220.connect(amp_220)
        amp_220.gain.value = 1.0;
	amp_220.connect(context.destination);
	// gain on 440 Hz
	amp_440 = new GainNode(context);
        osc_440.connect(amp_440)
        amp_440.gain.value = 0.1;
	amp_440.connect(context.destination);
	// gain on 660 Hz
	amp_660 = new GainNode(context);
        osc_660.connect(amp_660)
        amp_660.gain.value = 0.1;
	amp_660.connect(context.destination);

	// start and stop oscillators
	osc_220.start(0.0);
	osc_220.stop( 0.5);
	osc_440.start(0.5);
	osc_440.stop( 1.0);
	osc_660.start(1.0);
	osc_660.stop( 1.5);
      };
      document.body.addEventListener('click', start);
    </script>
  </body>
</html>
